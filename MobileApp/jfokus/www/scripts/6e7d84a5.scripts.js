"use strict";angular.module("jfokusApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/add",{templateUrl:"views/add.html",controller:"AddCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("jfokusApp").controller("MainCtrl",["$scope","apiService",function(a,b){a.getBooks=function(){b.getBooks(function(b,c){return b?(a.data=[],console.log(b),a.data[0]="Error"):void(a.data=c)})}}]),angular.module("jfokusApp").factory("apiService",["$http",function(a){return{getBooks:function(b){a.get("http://localhost:3000/books").success(function(a){return b(null,a)}).error(function(a){return b(a)})},addBook:function(b,c){var d={};d.name=b,a.post("http://localhost:3000/books",d).success(function(a){return c(null,a)}).error(function(a){return c(a)})}}}]),angular.module("jfokusApp").controller("AddCtrl",["$scope","apiService",function(a,b){a.addBook=function(c){b.addBook(c,function(c){return c?alert("error inserting"):void b.getBooks(function(b,c){a.data=c})})}}]);